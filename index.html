<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Random Numbers Table</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
        }
        th, td {
            padding: 8px;
            text-align: left;
            border-bottom: 1px solid #ddd;
        }
        .highlight {
            background-color: orange;
            font-weight: bold;
        }
    </style>
</head>
<body>
<h2>Таблица случайных чисел:</h2>
<div id="randomNumbersTable"></div>

<script>
const generateRandomArray = () => Array.from({length: 30}, () => Math.floor(Math.random() * 100));

const shouldHighlight = (num) => num > 50;

const createTableCell = (num) => {
    const cell = document.createElement('td');
    cell.textContent = num;
    if (shouldHighlight(num)) {
        cell.className = 'highlight';
    }
    return cell;
};

document.addEventListener('DOMContentLoaded', function() {
    const randomArray = generateRandomArray();
    const tableDiv = document.getElementById('randomNumbersTable');
    const table = document.createElement('table');
    let currentRow = document.createElement('tr');
    let cellCount = 0;
    
    for(let i = 0; i < randomArray.length; i++) {
        if(cellCount === 5) {
            table.appendChild(currentRow);
            currentRow = document.createElement('tr');
            cellCount = 0;
        }
        
        currentRow.appendChild(createTableCell(randomArray[i]));
        cellCount++;
    }
    
    if (cellCount > 0) {
        table.appendChild(currentRow);
    }
    
    tableDiv.appendChild(table);
});

function addNumberToTable() {
    const table = document.querySelector('#randomNumbersTable table');
    const rows = table.querySelectorAll('tr');
    const lastRow = rows[rows.length - 1];
    const cellsInLastRow = lastRow.querySelectorAll('td').length;
    
    const newNum = Math.floor(Math.random() * 100);
    
    if (cellsInLastRow >= 5) {
        const newRow = document.createElement('tr');
        newRow.appendChild(createTableCell(newNum));
        table.appendChild(newRow);
    } else {
        lastRow.appendChild(createTableCell(newNum));
    }
}

document.addEventListener('DOMContentLoaded', function() {
    document.body.insertAdjacentHTML("beforeend", "<button onclick='addNumberToTable()'>Добавить случайное число</button>");
});

</script>
</body>
</html>
